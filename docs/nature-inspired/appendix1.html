<html>
          <head>
            <title>Ruby: Quick-Start Guide | Clever Algorithms</title><link href="https://cleveralgorithms.com/nature-inspired/clever.css" media="screen" rel="stylesheet" type="text/css"/>
          <!-- support to display ruby source nicely -->
            <link href="https://cleveralgorithms.com/nature-inspired/prettify.css" type="text/css" rel="stylesheet"/>
            <script type="text/javascript" src="https://cleveralgorithms.com/nature-inspired/prettify.js"></script>
          </head>
        <!-- call to display ruby source nicely -->
        <body onload="prettyPrint()"><!-- Start Header -->
          <center>
          <h1>Clever Algorithms: Nature-Inspired Programming Recipes</h1>
          <em>A book by Jason Brownlee</em>

          <p>
            <a href="/">Home</a> |
            <a href="https://amzn.to/4iKM9uc">Amazon</a> |
            <a href="https://www.goodreads.com/book/show/10321060-clever-algorithms">GoodReads</a> |
            <a href="https://www.google.com.au/books/edition/Clever_Algorithms/SESWXQphCUkC">Google Books</a> |
            <a href="https://raw.githubusercontent.com/Jason2Brownlee/CleverAlgorithms/master/release/clever_algorithms.pdf">PDF</a> (<a href="https://raw.githubusercontent.com/Jason2Brownlee/CleverAlgorithms/master/release/clever_algorithms-src.zip">code</a>) |
            <a href="https://github.com/Jason2Brownlee/CleverAlgorithms">GitHub</a>
          </p>

          </center>
          <hr/>
          <br/>
          <!-- End Header --><div class='breadcrumb'>
<a href='index.html'>Table of Contents</a>
&gt;&gt;
<a href='appendix1.html'>Ruby: Quick-Start Guide</a>
</div>
<h1><a name='ruby:_quick-start_guide'>Ruby: Quick-Start Guide</a></h1>

<h2><a name='overview'>Overview</a></h2>
<p>
All code examples in this book are provided in the Ruby programming language.
This appendix provides a high-level introduction to the Ruby programming language. This guide is intended for programmers of an existing procedural language (such as Python, Java, C, C++, C#) to learn enough Ruby to be able to interpret and modify the code examples provided in the Clever Algorithms project.
</p>


<h2><a name='language_basics'>Language Basics</a></h2>
<p>
This section summarizes the basics of the language, including variables, flow control, data structures, and functions.
</p>

<h3><a name='ruby_files'>Ruby Files</a></h3>
<p>
Ruby is an interpreted language, meaning that programs are typed as text into a <code>.rb</code> file which is parsed and executed at the time the script is run. For example, the following snippet shows how to invoke the Ruby interpreter on a script in the file <code>genetic_algorithm.rb</code> from the command line: <code>ruby genetic_algorithm.rb</code>
</p>
<p>
Ruby scripts are written in ASCII text and are parsed and executed in a linear manner (top to bottom). A script can define functionality (as modules, functions, and classes) and invoke functionality (such as calling a function).
</p>
<p>
Comments in Ruby are defined by a <code>#</code> character, after which the remainder of the line is ignored. The only exception is in strings, where the character can have a special meaning.
</p>
<p>
The Ruby interpreter can be used in an interactive manner by typing out a Ruby script directly. This can be useful for testing specific behavior. For example, it is encouraged that you open the Ruby interpreter and follow along this guide by typing out the examples. The Ruby interpreter can be opened from the command line by typing <code>irb</code> and exited again by typing <code>exit</code> from within the interpreter.
</p>


<h3><a name='variables'>Variables</a></h3>
<p>
A variable holds a piece of information such as an integer, a scalar, boolean, or a string.
</p>
<pre class='prettyprint lang-rb'>
a = 1  # a holds the integer value '1'
b = 2.2  # b holds the floating point value '2.2'
c = false # c holds the boolean value false
d = "hello, world" # d holds the string value 'hello, world'
</pre>

<p>
Ruby has a number of different data types (such as numbers and strings) although it does not enforce the type safety of variables. Instead it uses 'duck typing', where as long as the value of a variable responds appropriately to messages it receives, the interpreter is happy.
</p>
<p>
Strings can be constructed from static text as well as the values of variables. The following example defines a variable and then defines a string that contains the variable. The #{} is a special sequence that informs the interrupter to evaluate the contents of inside the brackets, in this case to evaluate the variable n, which happens to be assigned the value 55.
</p>
<pre class='prettyprint lang-rb'>
n = 55 # an integer
s = "The number is: #{n}" # =&gt; The number is: 55
</pre>

<p>
The values of variables can be compared using the == for equality and != for inequality. The following provides an example of testing the equality of two variables and assigning the boolean (true or false) result to a third variable.
</p>
<pre class='prettyprint lang-rb'>
a = 1
b = 2
c = (a == b) # false
</pre>

<p>
Ruby supports the classical <code>&amp;amp;&amp;amp;</code> and <code>||</code> for AND and OR, but it also supports the <code>and</code> and <code>or</code> keywords themselves.
</p>
<pre class='prettyprint lang-rb'>
a = 1
b = 2
c = a==1 and b==2 # true
</pre>



<h3><a name='flow_control'>Flow Control</a></h3>
<p>
A script is a sequence of statements that invoke pre-defined functionality. There are structures for manipulating the flow of control within the script, such as conditional statements and loops.
</p>
<p>
Conditional statements can take the traditional forms of <code>if</code> <em>condition</em> <em>then</em> <em>action</em>, with the standard variants of <em>if-then-else</em> and <em>if-then-elseif</em>. For example:
</p>
<pre class='prettyprint lang-rb'>
a = 1
b = 2
if(a == b)
	a += 1 # equivalent to a = a + 1
elsif a == 1 # brackets around conditions are optional
	a = 1 # this line is executed
else
 	a = 0
end
</pre>

<p>
Conditional statements can also be added to the end of statements. For example, a variable can be assigned a value only if a condition holds, defined all on one line.
</p>
<pre class='prettyprint lang-rb'>
a = 2
b = 99 if a == 2 # b =&gt; 99
</pre>

<p>
Loops allow a set of statements to be repeatedly executed <code>until</code> a condition is met or <code>while</code> a condition is not met.
</p>
<pre class='prettyprint lang-rb'>
a = 0
while a &lt; 10 # condition before the statements
	puts a += 1
end
</pre>

<pre class='prettyprint lang-rb'>
b = 10
begin
	puts b -= 1
end until b==0 # condition after the statements
</pre>

<p>
As with the if conditions, the loops can be added to the end of statements allowing a loop on a single line.
</p>
<pre class='prettyprint lang-rb'>
a = 0
puts a += 1 while a&lt;10
</pre>



<h3><a name='arrays_and_hashs'>Arrays and Hashs</a></h3>
<p>
An array is a linear collection of variables and can be defined by creating a new <code>Array</code> object.
</p>
<pre class='prettyprint lang-rb'>
a = [] # define a new array implicitly
a = Array.new # explicitly create a new array
a = Array.new(10) # create a new array with space for 10 items
</pre>

<p>
The contents of an array can be accessed by the index of the element.
</p>
<pre class='prettyprint lang-rb'>
a = [1, 2, 3] # inline declaration and definition of an array
b = a[0] # first element, equivalent to a.first
</pre>

<p>
Arrays are also not fix-sized and elements can be added and deleted dynamically.
</p>
<pre class='prettyprint lang-rb'>
a = [1, 2, 3] # inline declaration and definition of an array
a &lt;&lt; 4 # =&gt; [1, 2, 3, 4]
a.delete_at(0) # =&gt; returns 1, a is now [2, 3, 4]
</pre>

<p>
A hash is an associative array, where values can be stored and accessed using a key. A key can be an object (such as a string) or a symbol.
</p>
<pre class='prettyprint lang-rb'>
h = {} # empty hash
h = Hash.new
h = {"A"=&gt;1, "B"=&gt;2} # string keys
a = h["A"] # =&gt; 1
</pre>

<pre class='prettyprint lang-rb'>
h = {:a=&gt;1, :b=&gt;2} # label keys
a = h[:a] # =&gt; 1
h[:c] = 3 # add new key-value combination
h[:d] # =&gt; nil as there is no value
</pre>



<h3><a name='functions_and_blocks'>Functions and Blocks</a></h3>
<p>
The <code>puts</code> function can be used to write a line to the console.
</p>
<pre class='prettyprint lang-rb'>
puts("Testing 1, 2, 3") # =&gt; Testing 1, 2, 3
puts "Testing 4, 5, 6" # note brackets are not required for the function call
</pre>

<p>
Functions allow a program to be partitioned into discrete actions and pre-defined and reusable. The following is an example of a simple function.
</p>
<pre class='prettyprint lang-rb'>
def test_function()
	puts "Test!"
end
puts test_function # =&gt; Test!
</pre>

<p>
A function can take a list of variables called function arguments.
</p>
<pre class='prettyprint lang-rb'>
def test_function(a)
	puts "Test: #{a}"
end
puts test_function("me") # =&gt; Test: me
</pre>

<p>
Function arguments can have default values, meaning that if the argument is not provided in a call to the function, the default is used.
</p>
<pre class='prettyprint lang-rb'>
def test_function(a="me")
	puts "Test: #{a}"
end
puts test_function() # =&gt; Test: me
puts test_function("you") # =&gt; Test: you
</pre>

<p>
A function can return a variable, called a return value.
</p>
<pre class='prettyprint lang-rb'>
def square(x)
	return x**2 # note the ** is a power-of operator in Ruby
end
puts square(3) # =&gt; 9
</pre>

<p>
A block is a collection of statements that can be treated as a single unit. A block can be provided to a function and it can be provided with parameters. A block can be defined using curly brackets {} or the <code>do</code> and <code>end</code> keywords. Parameters to a block are signified by <code>|var|</code>.
</p>
<p>
The following example shows an array with a block passed to the constructor of the Array object that accepts a parameter of the current array index being initialized and returns the value with which to initialize the array.
</p>
<pre class='prettyprint lang-rb'>
b = Array.new(10) {|i| i} # define a new array initialized 0..9
# do...end block
b = Array.new(10) do |i| # =&gt; [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
	i * i
end
</pre>

<p>
Everything is an object in Ruby, even numbers, and as such everything has some behaviors defined. For example, an integer has a <code>.times</code> function that can be called that takes a block as a parameter, executing the block the integer number of times.
</p>
<pre class='prettyprint lang-rb'>
10.times {|i| puts i} # prints 0..9 each on a new line
</pre>




<h2><a name='ruby_idioms'>Ruby Idioms</a></h2>
<p>
There are standard patterns for performing certain tasks in Ruby, such as assignment and enumerating. This section presents the common Ruby idioms used throughout the code examples in this book.
</p>

<h3><a name='assignment'>Assignment</a></h3>
<p>
Assignment is the definition of variables (setting a variable to a value). Ruby allows mass assignment, for example, multiple variables can be assigned to respective values on a single line.
</p>
<pre class='prettyprint lang-rb'>
a,b,c = 1,2,3
</pre>

<p>
Ruby also has special support for arrays, where variables can be mass-assigned from the values in an array. This can be useful if a function returns an array of values which are mass assigned to a collection of variables.
</p>
<pre class='prettyprint lang-rb'>
a, b, c = [1, 2, 3]
def get_min_max(vector)
	return [vector.min, vector.max]
end
v = [1,2,3,4,5]
min, max = get_min_max(v) # =&gt; 1, 5
</pre>



<h3><a name='enumerating'>Enumerating</a></h3>
<p>
Those collections that are enumerable, such as arrays, provide convenient functions for visiting each value in the collection. A very common idiom is the use of the <code>.each</code> and <code>.each_with_index</code> functions on a collection which accepts a block. These functions are typically used with an in-line block {} so that they fit onto one line.
</p>
<pre class='prettyprint lang-rb'>
[1,2,3,4,5].each {|v| puts v} # in-line block
# a do...end block
[1,2,3,4,5].each_with_index do |v,i|
	puts "#{i} = #{v}"
end
</pre>

<p>
The <code>sort</code> function is a very heavily-used enumeration function. It returns a copy of the collection that is sorted.
</p>
<pre class='prettyprint lang-rb'>
a = [3, 2, 4, 1]
a = a.sort # =&gt; [1, 2, 3, 4]
</pre>

<p>
There are a few versions of the sort function including a version that takes a block. This version of the sort function can be used to sort the variables in the collection using something other than the actual direct values in the array. This is heavily used in code examples to sort arrays of hash maps by a particular key-value pair. The <code>&lt;=&gt;</code> operator is used to compare two values together, returning a -1, 0, or 1 if the first value is smaller, the same, or larger than the second.
</p>
<pre class='prettyprint lang-rb'>
a = {:quality=&gt;2, :quality=&gt;3, :quality=&gt;1}
a = a.sort {|x,y| x[:quality]&lt;=&gt;y[:quality] } # =&gt; ordered by quality
</pre>



<h3><a name='function_names'>Function Names</a></h3>
<p>
Given that everything is an object, executing a function on a object (a behavior) can be thought of as sending a message to that object. For some messages sent to objects, there is a convention to adjust the function name accordingly. For example, functions that ask a question of an object (return a boolean) have a question mark (?) on the end of the function name. Those functions that change the internal state of an object (its data) have an exclamation mark on the end (!). When working with an imperative script (a script without objects) this convention applies to the data provided as function arguments.
</p>
<pre class='prettyprint lang-rb'>
def is_rich?(amount)
	return amount &gt;= 1000
end
puts is_rich?(99) # =&gt; false
def square_vector!(vector)
	vector.each_with_index {|v,i| vector[i] = v**2}
end
v = [2,2]
square_vector!(v)
puts v.inspect # =&gt; [4,4]
</pre>



<h3><a name='conclusions'>Conclusions</a></h3>
<p>
This quick-start guide has only scratched the surface of the Ruby Programming Language. Please refer to one of the referenced textbooks on the language for a more detailed introduction to this powerful and fun programming language  [<a href='#Thomas2004'>Thomas2004</a>] [<a href='#Flanagan2008'>Flanagan2008</a>].
</p>




<h2>Bibliography</h2>
<table>
 <tr valign="top">
 <td><a name='Flanagan2008'>[Flanagan2008]</a></td>
 <td>["D. Flanagan and Y. Matsumoto"], "<a href="http://scholar.google.com.au/scholar?q=["The+Ruby+Programming+Language"]">["The Ruby Programming Language"]</a>", ["O'Reilly Media"], ["2008"].</td>
 </tr>
 <tr valign="top">
 <td><a name='Thomas2004'>[Thomas2004]</a></td>
 <td>["D. Thomas and C. Fowler and A. Hunt"], "<a href="http://scholar.google.com.au/scholar?q=["Programming+Ruby:+The+Pragmatic+Programmers'+Guide"]">["Programming Ruby: The Pragmatic Programmers' Guide"]</a>", ["Pragmatic Bookshelf"], ["2004"].</td>
 </tr>
</table>

<!-- generate math images from latex math snippets -->
    <script type="text/javascript" src="https://mathcache.s3.amazonaws.com/replacemath.js"></script>
    <script type="text/javascript">replaceMath(document.body);</script>
        </body>
          </html>